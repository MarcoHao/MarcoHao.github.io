<!DOCTYPE html>
<html lang="zh-CN" xmlns="">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>马昊 Marco</title>
  <!-- Google Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
  <!-- Font Awesome -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <link rel="stylesheet" href="styles2.css">
  <script>
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'klein-blue': '#0021A5',
          },
        }
      }
    }
  </script>
<head>
<body class="font-sans bg-white text-slate-900 light">
  <!-- Navigation -->
  <nav class="fixed top-0 w-full z-40">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center h-16">
        <div class="flex items-center space-x-2">
          <div class="w-8 h-8 rounded-lg overflow-hidden">
            <img src="assets/favicon/White.PNG" alt="Logo" class="w-full h-full object-contain dark:hidden" />
            <img src="assets/favicon/Black.PNG" alt="Logo" class="w-full h-full object-contain hidden dark:block" />
          </div>
          <a href="index3.html" class="nav-brand">Marco</a>
        </div>
        <div class="flex items-center space-x-6">
          <div class="hidden md:flex space-x-6 text-sm">
            <a href="#projects" class="nav-link">Projects</a>
            <a href="#experience" class="nav-link">Experience</a>
            <a href="#about" class="nav-link">About</a>
            <a href="#contact" class="nav-link">Contact</a>
          </div>
          <div id="modeToggle" class="mode-toggle">
            <i id="modeIcon" class="fas fa-moon"></i>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section id="home" class="relative min-h-screen flex items-center">
    <!--默认背景图-->
    <div class="hero-bg active" style="background-image: url('../assets/images/morfusion/Completed renderings.jpg');"></div>

    <!-- 毛玻璃遮罩 -->
    <div class="hero-mask"></div>

    <!-- 内容层 -->
    <div class="relative z-10 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
      <div class="grid lg:grid-cols-2 gap-12 items-center">
        <div class="hero-text">
          <div class="hero-name">
            <h1 class="hero-title">马昊 Marco</h1>
            <p class="hero-subtitle">设计 × 程序 × AI</p>
          </div>
          <div class="hero-headline">
            <h2 class="hero-main">Where <span class="hero-accent-1">Design</span><br />Meets <span class="hero-accent-2">Code</span></h2>
            <p class="hero-description">
              在计算性设计中探索未来方向，在理性与感性之间寻找平衡。<br>
              Bridging architecture and technology through design and AI-driven workflows.
            </p>
          </div>
          <div class="hero-buttons">
            <a href="#projects" class="btn-primary">View Projects</a>
            <a href="#contact" class="btn-secondary">Get in Touch</a>
          </div>

          <!-- Floating Contact Buttons -->
          <div class="flex items-center space-x-6 pt-4 text-sm">

            <!-- GitHub -->
            <a href="https://github.com/MarcoHao" target="_blank"
               class="flex items-center space-x-1 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">
              <i class="fab fa-github"></i> <span>GitHub</span>
            </a>

            <!-- Email -->
            <div class="relative group">
              <a href="mailto:2325169215@qq.com"
                 class="flex items-center space-x-1 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">
                <i class="fas fa-envelope"></i> <span>Email</span>
              </a>
              <!-- Hover to show full email on PC -->
              <div class="absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1
                          bg-white dark:bg-slate-800
                          text-slate-900 dark:text-slate-200
                          rounded shadow-lg text-xs
                          hidden group-hover:block z-50">
                2325169215@qq.com
              </div>
            </div>

            <!-- WeChat -->
            <div class="relative group">
              <button id="wechatBtn"
                class="flex items-center space-x-1 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">
                <i class="fab fa-weixin"></i> <span>WeChat</span>
              </button>
              <!-- Hover QR on PC -->
              <div class="absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 w-48 p-2
                          bg-white
                          rounded shadow-lg
                          hidden group-hover:block z-50">
                <!-- 浅色模式 -->
                <img src="../assets/images/contact_information/WeChatQRcode.jpg" alt="Logo" class="w-full h-full object-contain dark:hidden" />
                <!-- 深色模式 -->
                <img src="../assets/images/contact_information/WeChatQRcode.jpg" alt="Logo" class="w-full h-full object-contain hidden dark:block" />
              </div>
            </div>
          </div>
        </div>

        <a href="#" data-modal="generative-facade" class="block">
          <div class="bg-white/80 backdrop-blur-sm rounded-xl overflow-hidden border border-slate-200 dark:bg-slate-800/80 dark:border-slate-700 project-card">
            <img id="heroDetailImg" src="https://placehold.co/400x600/e2e8f0/647488?text=Facade+Detail" alt="Project Detail" class="w-full h-96 object-cover" />
            <div class="p-5">
              <h2 id="heroTitle" class="text-xl font-bold text-slate-900 dark:text-white mb-2">Generative Facade System</h2>
              <p id="heroDesc" class="text-slate-600 dark:text-slate-400 text-sm mb-3">
                Parametric facade with ML optimization for energy performance.
              </p>
              <span class="text-klein-blue dark:text-blue-400 text-sm font-medium">View Project →</span>
            </div>
          </div>
        </a>
      </div>
    </div>

    <!-- Hero Dots -->
    <div class="absolute bottom-10 left-1/2 transform -translate-x-1/2 flex space-x-3 z-20">
      <button class="hero-dot"></button>
      <button class="hero-dot"></button>
      <button class="hero-dot"></button>
    </div>
  </section>

  <!-- Projects -->
  <section id="projects" class="py-20 bg-white dark:bg-slate-900">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center mb-12">
        <h2 class="text-3xl font-bold">Projects</h2>
        <a href="#" class="text-blue-600 hover:text-blue-800 dark:text-blue-400 text-sm">View All →</a>
      </div>
      <div id="projectsGrid" class="grid md:grid-cols-2 lg:grid-cols-3 gap-8"></div>
    </div>
  </section>

  <!-- Experience -->
  <section id="experience" class="py-20 bg-slate-50 dark:bg-slate-800">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="flex justify-between items-center mb-12">
        <h2 class="text-3xl font-bold text-slate-900 dark:text-white">Experience</h2>
        <a href="#" class="text-klein-blue hover:text-blue-700 dark:text-blue-400 dark:hover:text-blue-300 text-sm">View All →</a>
      </div>

      <div class="space-y-8">
        <div>
          <div class="text-2xl font-bold text-klein-blue dark:text-blue-400 mb-4">2025</div>
          <div class="space-y-6">
            <a href="#" data-modal="paper1" class="block experience-card">
              <div class="bg-white p-5 rounded-lg border border-slate-200 dark:bg-slate-800 dark:border-slate-700">
                <div class="text-sm text-slate-500 dark:text-slate-400 mb-1">Sep 17, 2025</div>
                <span class="inline-block px-2 py-1 rounded text-xs font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 mb-2">Paper</span>
                <h3 class="font-bold text-slate-900 dark:text-white">Reimagining Synergy between Architects and Computational Systems</h3>
                <p class="text-slate-600 dark:text-slate-400 text-sm">Frontiers of Architectural Research</p>
              </div>
            </a>
            <a href="#" data-modal="patent1" class="block experience-card">
              <div class="bg-white p-5 rounded-lg border border-slate-200 dark:bg-slate-800 dark:border-slate-700">
                <div class="text-sm text-slate-500 dark:text-slate-400 mb-1">Mar 28, 2025</div>
                <span class="inline-block px-2 py-1 rounded text-xs font-semibold bg-purple-100 text-purple-800 dark:bg-purple-900/30 dark:text-purple-300 mb-2">Patent</span>
                <h3 class="font-bold text-slate-900 dark:text-white">潜力微空间识别与营建方法</h3>
                <p class="text-slate-600 dark:text-slate-400 text-sm">国家知识产权局 · 第一发明人</p>
              </div>
            </a>
          </div>
        </div>

        <div>
          <div class="text-2xl font-bold text-klein-blue dark:text-blue-400 mb-4">2024</div>
          <div class="space-y-6">
            <a href="#" data-modal="internship" class="block experience-card">
              <div class="bg-white p-5 rounded-lg border border-slate-200 dark:bg-slate-800 dark:border-slate-700">
                <div class="text-sm text-slate-500 dark:text-slate-400 mb-1">Sep 2023 - Nov 2023</div>
                <span class="inline-block px-2 py-1 rounded text-xs font-semibold bg-green-100 text-green-800 dark:bg-green-900/30 dark:text-green-300 mb-2">Internship</span>
                <h3 class="font-bold text-slate-900 dark:text-white">Hanson & Partners International Design Group</h3>
                <p class="text-slate-600 dark:text-slate-400 text-sm">Designer Assistant · 3 urban complex projects</p>
              </div>
            </a>
            <a href="#" data-modal="workshop" class="block experience-card">
              <div class="bg-white p-5 rounded-lg border border-slate-200 dark:bg-slate-800 dark:border-slate-700">
                <div class="text-sm text-slate-500 dark:text-slate-400 mb-1">Nov 16, 2024</div>
                <span class="inline-block px-2 py-1 rounded text-xs font-semibold bg-yellow-100 text-yellow-800 dark:bg-yellow-900/30 dark:text-yellow-300 mb-2">Workshop</span>
                <h3 class="font-bold text-slate-900 dark:text-white">计算性设计学术论坛工作营</h3>
                <p class="text-slate-600 dark:text-slate-400 text-sm">主题：Decoding Syntax: 城市生成设计网络</p>
              </div>
            </a>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- About Me -->
  <section id="about" class="py-20 bg-white dark:bg-slate-900">
    <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-8">About Me</h2>

      <div class="space-y-6 mb-10">
        <p class="text-lg text-slate-600 dark:text-slate-400">
          Boundary Surface 是 Grasshopper 中求解曲线围合空间的命令。对我而言，建筑学的边界在哪里？如何求解它？
        </p>
        <p class="text-lg text-slate-600 dark:text-slate-400">
          我一直在探索、求解、拓展边界。在成果导向的环境下，把每次项目当作实验，虽非天赋异禀，但乐在其中。 怀着 “Push Boundaries” 的信念，从模仿到将参数化、AI 融入设计，经历反复与质疑，六年如梯度下降，在感性与理性间平衡前行。
        </p>
        <p class="text-lg text-slate-600 dark:text-slate-400">
          面对“建筑学寒冬”，我仍看到空间创造的可能性。人工智能、数字建造等新路径正在升起。 “让每一个人有尊严地活着”——徐好好老师的教诲铭记于心，这份挑战，我愿面对。
        </p>
      </div>

      <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
        <div>
          <h3 class="font-bold text-klein-blue dark:text-blue-400 mb-2">Architecture</h3>
          <p class="text-slate-600 dark:text-slate-400">参数化设计 · 数字建造 · BIM</p>
        </div>
        <div>
          <h3 class="font-bold text-green-600 dark:text-green-400 mb-2">Programming</h3>
          <p class="text-slate-600 dark:text-slate-400">Python · Grasshopper · API 开发</p>
        </div>
        <div>
          <h3 class="font-bold text-purple-600 dark:text-purple-400 mb-2">AI</h3>
          <p class="text-slate-600 dark:text-slate-400">Diffusion · ComfyUI · 3D/视频生成</p>
        </div>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="py-20 bg-slate-50 dark:bg-slate-800 text-center">
    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="text-3xl font-bold text-slate-900 dark:text-white mb-4">Get in Touch</h2>
      <p class="text-slate-600 dark:text-slate-400 mb-8">Open to collaborations and conversations about generative design.</p>

      <div class="flex justify-center space-x-8">
        <a href="mailto:hello@archcode.design" class="text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">
          <i class="fas fa-envelope text-xl"></i>
        </a>
        <a href="#" class="text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">
          <i class="fab fa-weixin text-xl text-green-600 dark:text-green-400"></i>
        </a>
      </div>
    </div>
  </section>

    <!-- ===== Modal (Markdown 渲染) ===== -->
  <div id="modalOverlay" class="fixed inset-0 bg-black/50 hidden items-center justify-center z-50">
    <div class="bg-white dark:bg-slate-800 rounded-lg shadow-xl max-w-4xl w-full mx-4 p-6 overflow-y-auto max-h-[90vh]">
      <button id="closeModal" class="absolute top-3 right-5 text-2xl text-slate-500 hover:text-slate-900 dark:hover:text-white">&times;</button>
      <h2 id="modalTitle" class="text-2xl font-bold mb-4"></h2>
      <div id="modalDescription" class="prose dark:prose-invert"></div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>

  <script>
    // ===== 项目信息 (轻量配置) =====
    const projectsMeta = [
      {
        id: "generative-facade",
        title: "Generative Facade System",
        tag: "Architecture",
        meta: "2024 · Parametric Design",
        cover: "https://placehold.co/800x600/e2e8f0/647488?text=Facade"
      },
      {
        id: "digital-fabrication",
        title: "Digital Fabrication Workflow",
        tag: "Programming",
        meta: "2024 · SEU × ETH Zurich",
        cover: "https://placehold.co/800x600/f1f5f9/e2e8f0?text=Fabrication"
      },
      {
        id: "ai-video-generation",
        title: "AI Video Generation",
        tag: "AI",
        meta: "2024 · ComfyUI Workflow",
        cover: "https://placehold.co/800x600/e2e8f0/f1f5f9?text=Video"
      },
      {
        id: "3d-multiview-generation",
        title: "多视图 3D 模型生成工作流",
        tag: "AI",
        meta: "2025 · Hunyuan3D × ComfyUI",
        cover: "https://placehold.co/800x600/111827/f1f5f9?text=3D+Multiview"
      }
    ];

    // ===== 暗黑模式切换 =====
    const modeToggle = document.getElementById('modeToggle');
    const modeIcon = document.getElementById('modeIcon');
    const body = document.body;

    const savedMode = localStorage.getItem('color-mode');
    if (savedMode === 'dark' || (!savedMode && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      body.classList.replace('light', 'dark');
      modeIcon.className = 'fas fa-sun';
    }

    modeToggle.addEventListener('click', () => {
      if (body.classList.contains('light')) {
        body.classList.replace('light', 'dark');
        modeIcon.className = 'fas fa-sun';
        localStorage.setItem('color-mode', 'dark');
      } else {
        body.classList.replace('dark', 'light');
        modeIcon.className = 'fas fa-moon';
        localStorage.setItem('color-mode', 'light');
      }
    });

    // ===== 动态生成项目卡片 =====
    const grid = document.getElementById("projectsGrid");
    projectsMeta.forEach(p => {
      const card = document.createElement("a");
      card.href = "#";
      card.className = "block project-card";
      card.dataset.modal = p.id;
      card.innerHTML = `
        <div class="bg-white dark:bg-slate-800 rounded-2xl overflow-hidden border border-slate-200 dark:border-slate-700">
          <img src="${p.cover}" alt="${p.title}" class="w-full h-64 object-cover" />
          <div class="p-6">
            <span class="inline-block px-3 py-1 rounded-full text-xs font-semibold bg-blue-100 text-blue-800 dark:bg-blue-900/30 dark:text-blue-300 mb-2">${p.tag}</span>
            <h3 class="text-xl font-bold mb-1">${p.title}</h3>
            <p class="text-slate-600 dark:text-slate-400 text-sm">${p.meta}</p>
          </div>
        </div>`;
      grid.appendChild(card);
    });

    // ===== Modal 控制 =====
    const modalOverlay = document.getElementById("modalOverlay");
    const modalTitle = document.getElementById("modalTitle");
    const modalDescription = document.getElementById("modalDescription");
    const closeModal = document.getElementById("closeModal");

    closeModal.addEventListener("click", () => modalOverlay.classList.add("hidden"));
    modalOverlay.addEventListener("click", e => {
      if (e.target === modalOverlay) closeModal.click();
    });

    // ===== 加载 Markdown 文件并渲染 =====
    async function openMarkdownModal(id) {
      const project = projectsMeta.find(p => p.id === id);
      modalTitle.textContent = project ? project.title : id;
      modalDescription.innerHTML = "<p>Loading...</p>";
      modalOverlay.classList.remove("hidden");

      try {
        // URL 编码，支持空格和中文
        const filePath = encodeURI(`assets/projects/${id}.md`);
        const res = await fetch(filePath);
        if (!res.ok) throw new Error("Markdown not found");
        const mdText = await res.text();
        modalDescription.innerHTML = marked.parse(mdText);
      } catch (err) {
        console.error(err);
        modalDescription.innerHTML = `<p class='text-red-500'>加载失败：${id}.md</p>`;
      }
    }

    document.addEventListener("click", e => {
      const target = e.target.closest("[data-modal]");
      if (target) {
        e.preventDefault();
        openMarkdownModal(target.dataset.modal);
      }
    });

    // ===== Hero 自动生成 =====
    const heroData = projectsMeta.slice(0, 3).map(p => ({
      id: p.id,
      bg: p.cover,
      title: p.title,
      desc: p.meta,
      detailImg: p.cover
    }));

    const heroBg = document.querySelector('.hero-bg');
    const heroTitle = document.getElementById('heroTitle');
    const heroDesc = document.getElementById('heroDesc');
    const heroDetailImg = document.getElementById('heroDetailImg');
    const heroCard = document.querySelector('[data-modal]');
    const dots = document.querySelectorAll('.hero-dot');

    let current = 0;
    let interval;

    function setHero(index) {
      const item = heroData[index];
      heroBg.style.backgroundImage = `url('${item.bg}')`;
      heroTitle.textContent = item.title;
      heroDesc.textContent = item.desc;
      heroDetailImg.src = item.detailImg;
      heroCard.dataset.modal = item.id;

      dots.forEach((dot, i) => {
        dot.classList.toggle('bg-klein-blue', i === index);
        dot.classList.toggle('scale-125', i === index);
        dot.classList.toggle('bg-slate-400', i !== index);
      });

      current = index;
    }

    dots.forEach((dot, i) => {
      dot.addEventListener('click', () => {
        clearInterval(interval);
        setHero(i);
        startAutoPlay();
      });
    });

    function startAutoPlay() {
      interval = setInterval(() => {
        const next = (current + 1) % heroData.length;
        setHero(next);
      }, 5000);
    }

    setHero(0);
    startAutoPlay();

    // ===== 滚动高亮 =====
    const navLinks = document.querySelectorAll('.nav-link');
    window.addEventListener('scroll', () => {
      const sections = ['projects', 'experience', 'about', 'contact'];
      const scrollPos = window.scrollY + 100;

      for (const id of sections) {
        const el = document.getElementById(id);
        if (el) {
          const { offsetTop, offsetHeight } = el;
          if (scrollPos >= offsetTop && scrollPos < offsetTop + offsetHeight) {
            navLinks.forEach(link => link.classList.remove('active'));
            document.querySelector(`a[href="#${id}"]`)?.classList.add('active');
            break;
          }
        }
      }
    });
  </script>
</body>
</html>