<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8">
  <!--è§†çª—ç¼©æ”¾-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Marcoâ€™s homepage</title>
  <!--å¤–éƒ¨èµ„æº-->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">
  <!--æ ·å¼è¡¨-->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    /* global tailwind */
    tailwind.config = {
      darkMode: 'class',
      theme: {
        extend: {
          colors: {
            'klein-blue': '#0021A5',
          },
        }
      }
    }
  </script>
  <link rel="stylesheet" href="test2.css">
</head>

<body class="
  font-sans            <!-- å­—ä½“ -->
  bg-white             <!-- èƒŒæ™¯ -->
  text-slate-900       <!-- æ–‡å­—é¢œè‰² -->
  light                <!-- è‡ªå®šä¹‰æ ‡è®°ï¼ˆæµ…è‰²ä¸»é¢˜ï¼‰ -->
">
  <!-- Navigation -->
  <nav class = "nav">  <!--ä¿è¯åœ¨å…¶ä»–å…ƒç´ ä¸Šæ–¹-->
    <div class="w-full mx-auto px-4 sm:px-6 lg:px-8">  <!--å¤–å±‚å®¹å™¨-->
      <div class = "flex justify-between items-center h-16">  <!--justify-between å°±æå®šå·¦å³åˆ†å¸ƒã€‚-->
        <div class="flex items-center space-x-2">
          <a href="index.html" class="nav-brand">Marco</a>
        </div>
        <div class="flex items-center space-x-6">
          <div class="hidden md:flex space-x-6 text-sm">
            <a href="#ai-section" class="nav-link">AI</a>
            <a href="#code-section" class="nav-link">Code</a>
            <a href="#design-section" class="nav-link">Design</a>
            <a href="#experience-section" class="nav-link">Experience</a>
            <a href="#about" class="nav-link">About</a>
          </div>
          <div id="modeToggle" class="mode-toggle">
            <i id="modeIcon" class="fas fa-moon"></i>
          </div>
        </div>
      </div>
    </div>
  </nav>

  <!-- Hero Section -->
  <section id="home" class="relative min-h-screen hero">
    <!-- å›¾ç‰‡èƒŒæ™¯ï¼ˆåˆå§‹éšè—ï¼‰ -->
    <div class="hero-bg" style="background-image: url('assets/images/background/02.png');"></div>

    <!-- è§†é¢‘èƒŒæ™¯ï¼ˆåˆå§‹éšè—ï¼‰ -->
    <video
      class="hero-video"
      muted
      loop
      playsinline
      webkit-playsinline
      style="display: none; position: absolute; inset: 0; width: 100%; height: 100%; object-fit: cover; z-index: -2;"
    >
      <source src="" type="video/mp4">
    </video>

    <!-- å†…å®¹å±‚ -->
    <div class="hero-inner relative z-10 w-full">
      <div class="hero-content-block ">
        <div class="hero-content">
          <h1 class="hero-name "><span>é©¬æ˜Š Marco</span></h1>
          <p class="hero-subtitle italic">Design Ã— Code Ã— AI.</p>
          <p class="hero-description">
            åœ¨è®¾è®¡ä¸­è¿›è¡Œæ¢¯åº¦ä¸‹é™ï¼Œé€¼è¿‘ç†æƒ³ä¸ç°å®çš„å¹³è¡¡ã€‚<br>
            Descending through design â€” toward the equilibrium between ideal and real.
          </p>

<!--          <div class="hero-buttons">-->
<!--            <a href="#ai" class="btn-primary">View Projects</a>-->
<!--          </div>-->

<!--          <div class="flex items-center space-x-6 pt-4 text-sm">-->
<!--            <a href="https://github.com/MarcoHao" target="_blank"-->
<!--               class="flex items-center space-x-1 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">-->
<!--              <i class="fab fa-github"></i> <span>GitHub</span>-->
<!--            </a>-->

<!--            <div class="relative group">-->
<!--              <a href="mailto:2325169215@qq.com"-->
<!--                 class="flex items-center space-x-1 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">-->
<!--                <i class="fas fa-envelope"></i> <span>Email</span>-->
<!--              </a>-->
<!--              <div class="absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 px-2 py-1-->
<!--                          bg-white dark:bg-slate-800 text-slate-900 dark:text-slate-200-->
<!--                          rounded shadow-lg text-xs hidden group-hover:block z-50">-->
<!--                2325169215@qq.com-->
<!--              </div>-->
<!--            </div>-->

<!--            <div class="relative group">-->
<!--              <button id="wechatBtn"-->
<!--                class="flex items-center space-x-1 text-slate-600 hover:text-slate-900 dark:text-slate-400 dark:hover:text-white">-->
<!--                <i class="fab fa-weixin"></i> <span>WeChat</span>-->
<!--              </button>-->
<!--              <div class="absolute bottom-full mb-2 left-1/2 transform -translate-x-1/2 w-48 p-2-->
<!--                          bg-white rounded shadow-lg hidden group-hover:block z-50">-->
<!--                <img src="assets/images/contact_information/WeChatQRcode.jpg" alt="Logo"-->
<!--                     class="w-full h-full object-contain dark:hidden" />-->
<!--                <img src="assets/images/contact_information/WeChatQRcode.jpg" alt="Logo"-->
<!--                     class="w-full h-full object-contain hidden dark:block" />-->
<!--              </div>-->
<!--            </div>-->
<!--          </div>-->

          <!-- è½®æ’­æŒ‡ç¤ºå™¨ -->
          <div class="hero-slider-indicators  flex space-x-2 mt-4">
            <div class="indicator active"></div>
            <div class="indicator"></div>
            <div class="indicator"></div>
            <div class="indicator"></div>
            <div class="indicator"></div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- AI Section -->
  <section class="section" id="ai-section">
    <div class="section-wrapper p-6">
      <div class="section-grid">
        <!-- å·¦ä¾§æè¿° -->
        <div class="section-left">
          <div class="section-content">
            <h2 class="section-title">AI</h2>
            <p class="section-subtitle">
              ä»å™ªå£°å‡ºå‘ï¼Œèµ°å‘æ„è±¡ï¼›ä»æ¨¡å‹åˆ°å¿ƒè±¡ã€‚<br />
                From noise to notion â€” from model to imagination.
            </p>
            <div class="section-footer">
              <p class="section-description">
                åŸºäºPython, ComfyUIå¹³å°ï¼Œåœ¨è§†é¢‘ç”Ÿæˆä¸æ§åˆ¶ã€3Dç”Ÿæˆã€å›¾åƒç”Ÿæˆè¿›è¡Œç³»ç»Ÿæ€§æ¢ç´¢ã€‚<br />
                Based on the Python, ComfyUI platform, exploring video generation and control, 3D generation, and image generation.
              </p>
              <a href="#" class="section-view-all" id="viewAllAIBtn">View All â†’</a>
            </div>
          </div>
        </div>

        <!-- å³ä¾§å¡ç‰‡åŒºï¼ˆç”± JS æ¸²æŸ“ï¼‰ -->
        <div class="section-card">
          <div class="section-right" id="AIGrid"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Code Section -->
  <section class="section" id="code-section">
    <div class="section-inner">
      <div class="section-wrapper rounded-2xl p-6">
        <div class="section-grid">
          <!-- å·¦ä¾§æè¿° -->
          <div class="section-left">
            <div class="section-content">
              <h2 class="section-title">Code</h2>
              <p class="section-subtitle">
                Exploring intelligent design, from algorithms to architecture.
              </p>
              <div class="section-footer">
                <p class="section-description">
                  ä»å™ªå£°å‡ºå‘ï¼Œèµ°å‘æ„è±¡ï¼›ä»æ¨¡å‹åˆ°å¿ƒè±¡ã€‚<br />
                  From noise to notion â€” from model to imagination.
                </p>
                <a href="#" class="section-view-all" id="viewAllCodeBtn">View All â†’</a>
              </div>
            </div>
          </div>

          <!-- å³ä¾§å¡ç‰‡åŒºï¼ˆç”± JS æ¸²æŸ“ï¼‰ -->
          <div class="section-right" id="CodeGrid"></div>
        </div>
      </div>
    </div>
  </section>

  <!-- Design -->
  <section class="section" id="design-section">
    <div class="section-inner">
      <div class="section-wrapper rounded-2xl p-6">
        <div class="section-grid">
          <!-- å·¦ä¾§æè¿° -->
          <div class="section-left">
            <div class="section-content">
              <h2 class="section-title">Design</h2>
              <p class="section-subtitle">
                Exploring intelligent design, from algorithms to architecture.
              </p>
              <div class="section-footer">
                <p class="section-description">
                  ä»å™ªå£°å‡ºå‘ï¼Œèµ°å‘æ„è±¡ï¼›ä»æ¨¡å‹åˆ°å¿ƒè±¡ã€‚<br />
                  From noise to notion â€” from model to imagination.
                </p>
                <a href="#" class="section-view-all" id="viewAllDesignBtn">View All â†’</a>
              </div>
            </div>
          </div>

          <!-- å³ä¾§å¡ç‰‡åŒºï¼ˆç”± JS æ¸²æŸ“ï¼‰ -->
          <div class="section-right" id="DesignGrid"></div>
        </div>
      </div>
    </div>
  </section>


  <!-- Experience -->
  <section class="section" id="experience-section">
    <div class="section-inner">
      <div class="section-wrapper rounded-2xl p-6">
        <div class="section-grid">
          <!-- å·¦ä¾§æè¿° -->
          <div class="section-left">
            <div class="section-content">
              <h2 class="section-title">Experience</h2>
              <p class="section-subtitle">
                Exploring intelligent design, from algorithms to architecture.
              </p>
              <div class="section-footer">
                <p class="section-description">
                  ä»å™ªå£°å‡ºå‘ï¼Œèµ°å‘æ„è±¡ï¼›ä»æ¨¡å‹åˆ°å¿ƒè±¡ã€‚<br />
                  From noise to notion â€” from model to imagination.
                </p>
                <a href="#" class="section-view-all" id="viewAllExperienceBtn">View All â†’</a>
              </div>
            </div>
          </div>

          <!-- å³ä¾§å¡ç‰‡åŒºï¼ˆç”± JS æ¸²æŸ“ï¼‰ -->
          <div class="section-right" id="ExperienceGrid"></div>
        </div>
      </div>
    </div>
  </section>


  <!-- About Me -->
  <section id="about" class="section about py-20 relative">
    <div class="section-inner max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 relative z-2">
      <h2 class="h2-middle">About Me</h2>

      <!-- ç²¾ç®€æ–‡æœ¬å†…å®¹ -->
      <div class="space-y-6 mb-10 text-lg text-slate-600 dark:text-slate-400">
        <p>2016-2019 ä½›å±±å¸‚ç¬¬ä¸€ä¸­å­¦</p>
        <p>2019-2024 åå—ç†å·¥å¤§å­¦å»ºç­‘å­¦é™¢ å»ºç­‘å­¦</p>
        <p>2024è‡³ä»Š ä¸œå—å¤§å­¦å»ºç­‘å­¦é™¢ å»ºç­‘è¿ç®—ä¸åº”ç”¨å›¢é˜Ÿ</p>
        <p>æŠ€èƒ½ï¼šæ‘„å½± Â· è§†é¢‘åˆ¶ä½œ Â· Python Â· Grasshopper Â· 3Dç”Ÿæˆ</p>
      </div>

      <!-- æ ¸å¿ƒç»éªŒ/è£èª‰ -->
      <div class="grid grid-cols-1 md:grid-cols-3 gap-6 mb-10">
        <div>
          <h3 class="font-bold text-klein-blue dark:text-blue-400 mb-2">Honors</h3>
          <p>2023å¹¿ä¸œçœâ€œæŒ‘æˆ˜æ¯â€ ä¸€ç­‰å¥–<br>ä¸œå—å¤§å­¦2025å­¦ä¸šå¥–å­¦é‡‘ äºŒç­‰å¥–</p>
        </div>
        <div>
          <h3 class="font-bold text-green-600 dark:text-green-400 mb-2">Experience</h3>
          <p>2024-10~11 å›½é™…å·¥ä½œè¥<br>2023-09~11 è®¾è®¡å¸ˆåŠ©ç†<br>ç­é•¿/å­¦åˆ›éƒ¨éƒ¨é•¿</p>
        </div>
        <div>
          <h3 class="font-bold text-purple-600 dark:text-purple-400 mb-2">Vision</h3>
          <p>è®¾è®¡æ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„æ–¹å¼ã€‚ç”»å›¾ä¸ç¼–ç¨‹ï¼Œè®©æ„Ÿæ€§ä¸ç†æ€§å¹¶è¡Œã€‚</p>
        </div>
      </div>

      <!-- å¿ƒä¸­çš„è™ä¸˜ï½œReflections -->
      <div class="space-y-4 mb-8">
        <h3 class="font-bold text-xl text-slate-800 dark:text-slate-200">å¿ƒä¸­çš„è™ä¸˜ï½œReflections</h3>
        <p>åœ¨ç¡•å£«ç¬¬äºŒå¹´å›æœ›ï¼Œæˆ‘é€æ¸ç†è§£äº†â€œå»ºç­‘â€çš„å¤æ‚æ€§ã€‚<strong>å®ƒä¸æ˜¯å•ä¸€çš„é€ å‹è‰ºæœ¯ï¼Œè€Œæ˜¯ä¸€ç§è§£å†³é—®é¢˜çš„æ–¹å¼</strong>ã€‚æˆ‘å­¦ä¼šäº†ç»“æ„åŒ–åœ°æ‹†è§£ä»»åŠ¡ï¼Œä¹Ÿå­¦ä¼šä»äººçš„æ„Ÿå—å‡ºå‘å»è®¾è®¡ã€‚</p>
        <p>è®¾è®¡æœ‰æ— æ•°æ¡è·¯å¾„ï¼Œå…³é”®åœ¨äºå¦‚ä½•æ‰¾åˆ°é€‚åˆå½“ä¸‹è¯­å¢ƒçš„é‚£ä¸€æ¡ã€‚ç”»å›¾ä¸ç¼–ç¨‹ï¼Œæˆäº†æˆ‘æ„Ÿæ€§ä¸ç†æ€§çš„ä¸¤æ¡ç¥ç»ã€‚å®ƒä»¬è®©â€œè®¾è®¡â€ä¸åªæ˜¯è¡¨è¾¾å½¢å¼ï¼Œæ›´æ˜¯ä¸€ç§é€»è¾‘ä¸Šçš„æ¨ç†ä¸æ€è¾¨ã€‚</p>
      </div>

      <!-- å¯¹æœªæ¥çš„ç•…æƒ³ï½œVision -->
      <div class="space-y-4 mb-8">
        <h3 class="font-bold text-xl text-slate-800 dark:text-slate-200">å¯¹æœªæ¥çš„ç•…æƒ³ï½œVision</h3>
        <p>å»ºç­‘æ˜¯ä¸€é—¨è‰ºæœ¯ï¼Œ<strong>è€Œç¼–ç¨‹è®©è¿™ç§è‰ºæœ¯çš„ä½“éªŒå˜å¾—å¯è¢«æ›´å¤šäººå…±äº«</strong>ã€‚æˆ‘ç›¸ä¿¡ï¼Œç®—æ³•ä¸è¯¥æ›¿ä»£è®¾è®¡ï¼Œè€Œåº”æ‹“å±•è®¾è®¡çš„è¾¹ç•Œã€‚å»ºç­‘å¸ˆçš„æƒ³è±¡åŠ›ï¼Œåº”è¯¥åœ¨é€»è¾‘ä¸­è¢«æ”¾å¤§ï¼Œè€Œä¸æ˜¯è¢«çº¦æŸã€‚</p>
      </div>

      <!-- åšè‡ªå·±çƒ­çˆ±çš„äº‹ï½œFlow -->
      <div class="space-y-4 mb-10">
        <h3 class="font-bold text-xl text-slate-800 dark:text-slate-200">åšè‡ªå·±çƒ­çˆ±çš„äº‹ï½œFlow</h3>
        <p>æœºå™¨å­¦ä¹ æœ‰ä¸ªæ ¸å¿ƒï¼šé€šè¿‡æ¢¯åº¦ä¸‹é™æœ€å°åŒ–æŸå¤±å‡½æ•°ã€‚ç”Ÿæ´»ä¹Ÿæ˜¯å¦‚æ­¤â€”â€”æˆ‘ä»¬åœ¨ä¸æ–­è°ƒæ•´æ–¹å‘ï¼Œè¯•å›¾â€œå‡å°‘åå·®â€ã€‚ä½†ç°å®ä¸­ï¼Œå¾ˆå¤šæ—¶å€™æˆ‘ä»¬å¹¶ä¸çŸ¥é“â€œæŸå¤±å‡½æ•°â€æ˜¯ä»€ä¹ˆã€‚</p>
        <p>Flow Model çš„æ€æƒ³è®©æˆ‘é‡æ–°ç†è§£äº†ç›®æ ‡ä¸è·¯å¾„çš„å…³ç³»ï¼š<strong>ä¸å…¶ç›¯ç€ç»ˆç‚¹ï¼Œä¸å¦‚é¡ºç€åŠ¨åŠ›å‰è¡Œ</strong>ã€‚æ–¹å‘æ˜ç¡®ï¼Œæ¯”ç›®æ ‡æ›´é‡è¦ã€‚åœ¨å¤æ‚çš„ä¸–ç•Œé‡Œï¼Œæ²¡æœ‰æœ€ä¼˜è§£ã€‚æ²¿ç€è‡ªå·±çƒ­çˆ±çš„æ–¹å‘èµ°ä¸‹å»â€”â€”è®©å™ªå£°é€æ¸å˜æˆç§©åºï¼Œè®©ä¸ç¡®å®šå˜æˆå½¢çŠ¶ã€‚</p>
      </div>

      <!-- ç­¾å -->
      <div class="about-signature-wrapper flex justify-end mt-8">
        <img src="assets/favicon/White.png" class="about-signature-white block dark:hidden"/>
        <img src="assets/favicon/Black.png" class="about-signature-black hidden dark:block"/>
      </div>
    </div>
  </section>

  <!-- Contact -->
  <section id="contact" class="section contact py-20 bg-slate-50 dark:bg-slate-800 text-center ">
    <div class="max-w-2xl mx-auto px-4 sm:px-6 lg:px-8">
      <h2 class="h2-middle">Get in Touch</h2>
      <p class="text-slate-600 dark:text-slate-400 mb-8">
        é‚®ç®±ï¼š<a href="mailto:2325169215@qq.com" class="text-blue-600 dark:text-blue-400 hover:underline">2325169215@qq.com</a><br>
        å¾®ä¿¡ï¼š13612559411
      </p>
    </div>
  </section>

  <!-- Modal -->
  <div id="modalOverlay">
    <div class="modal">

      <!-- æµ®åŠ¨å…³é—­æŒ‰é’® -->
      <span id="closeModal" class="modal-close">&times;</span>

      <!-- ç®€æ˜“æ¨¡å¼ï¼šå·¦å³å¸ƒå±€ -->
      <div id="modalSimpleView" class="modal-simple-view">
        <div class="modal-content">
          <div class="modal-info">
            <span id="modalTag" class="modal-tag"></span>
            <h2 id="modalTitle"></h2>
            <p id="modalMeta" class="modal-meta"></p>
            <div class="modal-description"></div>
            <button id="readMoreBtn" class="read-more-btn">Read More</button>
            <!-- ç®€æ˜“æ¨¡å¼ä¸‹çš„ Read Less æŒ‰é’®ï¼ˆé»˜è®¤éšè—ï¼‰ -->
            <button id="readLessBtnSimple" class="read-less-btn hidden">Read Less</button>
          </div>
        </div>
        <div class="image-gallery-container">
          <div class="modal-image-container">
            <!-- å›¾ç‰‡ç”»å»Šå°†åœ¨è¿™é‡Œæ¸²æŸ“ -->
          </div>
        </div>
      </div>

      <!-- ReadMore æ¨¡å¼ï¼šå…¨ Markdown å†…å®¹ -->
      <div id="modalReadMoreView" class="modal-readmore-view hidden">
        <!-- æ»šåŠ¨åå‡ºç°çš„ Nav-->
        <div class="modal-scroll-nav">
<!--          <div class="modal-header-inner">-->
<!--            <div class="modal-info">-->
<!--              <span id="modalTag3" class="modal-tag"></span>-->
<!--              <h2 id="modalTitle3"></h2>-->
<!--              <p id="modalMeta3" class="modal-meta"></p>-->
<!--            </div>-->
<!--            &lt;!&ndash; ğŸ‘‡ æ¢å¤ Read Less æŒ‰é’® &ndash;&gt;-->
<!--            <button id="readLessBtnNav" class="read-less-btn">Read Less</button>-->
<!--          </div>-->
          <!-- ğŸ‘‡ æ¢å¤ Read Less æŒ‰é’® -->
          <button id="readLessBtnNav" class="read-less-btn">Read Less</button>
        </div>
        <!-- Hero å›¾ + ç£¨ç ‚æè¿° -->
        <div class="modal-hero">
          <img id="modalHeroImage" src="" alt="" />
          <div class="modal-hero-overlay">
            <div class="modal-hero-content markdown-body">
              <!-- è¿™é‡Œå°†æ¸²æŸ“å®Œæ•´çš„æ ‡é¢˜ã€å…ƒä¿¡æ¯ã€æè¿°ã€Read Less æŒ‰é’® -->
              <div class="hero-header">
                <span id="modalTag2" class="modal-tag"></span>
                <h2 id="modalTitle2"></h2>
                <p id="modalMeta2" class="modal-meta"></p>
              </div>
              <div id="heroDescription"></div>
              <button id="readLessBtnHero" class="read-less-btn">Read Less</button>
            </div>
          </div>
        </div>
        <!-- å®Œæ•´ Markdown å†…å®¹ -->
        <div class="modal-markdown-wrapper">
          <div class="modal-markdown-body markdown-body"></div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // === æ•°æ®å®šä¹‰ ===
    const AIData = [
      {
        id: 'digital-fabrication',
        title: "Digital Fabrication Workflow",
        tag: "Programming",
        meta: "2024 Â· SEU Ã— ETH Zurich",
        image: "assets/images/morfusion/Completed renderings.jpg",
        description: `
          <p>Collaborative project with ETH Zurich: AI-generated 3D printed installation with Â±3cm precision. Developed a full digital workflow from generative design to robotic construction.</p>
        `,
        markdown: "assets/projects/3d-multiview-generation/3d-multiview-generation.md",
        links: [
          { text: "Project Video", url: "#" },
          { text: "Technical Report", url: "#" }
        ]
      },
      {
        id: 'generative-facade',
        title: "Generative Facade System",
        tag: "Workshop",
        image: "https://placehold.co/800x600/1e293b/94a3b8?text=Facade",
        markdown: "assets/projects/generative-facade/content.md"
      },
            {
        id: 'generative-facade',
        title: "Generative Facade System",
        tag: "Workshop",
        image: "https://placehold.co/800x600/1e293b/94a3b8?text=Facade",
        markdown: "assets/projects/generative-facade/content.md"
      },
            {
        id: 'generative-facade',
        title: "Generative Facade System",
        tag: "Workshop",
        image: "https://placehold.co/800x600/1e293b/94a3b8?text=Facade",
        markdown: "assets/projects/generative-facade/content.md"
      },
            {
        id: 'generative-facade',
        title: "Generative Facade System",
        tag: "Workshop",
        image: "https://placehold.co/800x600/1e293b/94a3b8?text=Facade",
        markdown: "assets/projects/generative-facade/content.md"
      },
            {
        id: 'generative-facade',
        title: "Generative Facade System",
        tag: "Workshop",
        image: "https://placehold.co/800x600/1e293b/94a3b8?text=Facade",
        markdown: "assets/projects/generative-facade/content.md"
      },
            {
        id: 'generative-facade',
        title: "Generative Facade System",
        tag: "Workshop",
        image: "https://placehold.co/800x600/1e293b/94a3b8?text=Facade",
        markdown: "assets/projects/generative-facade/content.md"
      },
      {
        id: 'digital-fabrication',
        title: "Digital Fabrication Workflow",
        tag: "Programming",
        meta: "2024 Â· SEU Ã— ETH Zurich",
        image: "assets/images/morfusion/Completed renderings.jpg",
        description: `
          <p>Collaborative project with ETH Zurich: AI-generated 3D printed installation with Â±3cm precision.
          Developed a full digital workflow from generative design to robotic construction.</p>
        `,
        markdown: "assets/projects/3d-multiview-generation/3d-multiview-generation.md",
        links: [
          { text: "Project Video", url: "#" },
          { text: "Technical Report", url: "#" }
        ]
      },
      {
        id: 'ai-video-generation',
        title: "AI Video Generation",
        tag: "AI",
        image: "https://placehold.co/800x600/1e293b/f1f5f9?text=Video",
        markdown: "assets/projects/ai-video-generation/content.md"
      }
    ];

    const CodeData = [
      {
        id: 'paper1',
        title: "Reimagining Synergy between Architects and Computational Systems",
        tag: "Paper",
        markdown: "assets/experience/paper1/content.md"
      },
      {
        id: 'patent1',
        title: "æ½œåŠ›å¾®ç©ºé—´è¯†åˆ«ä¸è¥å»ºæ–¹æ³•",
        tag: "Patent",
        markdown: "assets/experience/patent1/content.md"
      }
    ];

    const DesignData = [
      {
        id: 'generative-facade',
        title: "Generative Facade System",
        tag: "Workshop",
        image: "https://placehold.co/800x600/1e293b/94a3b8?text=Facade",
        markdown: "assets/projects/generative-facade/content.md"
      },
      {
        id: 'digital-fabrication',
        title: "Digital Fabrication Workflow",
        tag: "Programming",
        image: "https://placehold.co/800x600/0f172a/e2e8f0?text=Fabrication",
        markdown: "assets/projects/digital-fabrication/content.md"
      },
      {
        id: 'ai-video-generation',
        title: "AI Video Generation",
        tag: "AI",
        image: "https://placehold.co/800x600/1e293b/f1f5f9?text=Video",
        markdown: "assets/projects/ai-video-generation/content.md"
      }
    ];

    const ExperienceData = [
      {
        year: "2025",
        items: [
          {
            id: "exp1",
            title: "Algorithmic Design Research",
            subtitle: "ETH Zurich",
            tag: "Workshop",
            date: "2025",
            markdown: "assets/experience/exp1/content.md",
            image: "assets/experience/exp1/thumb.jpg"
          },
          {
            id: "exp2",
            title: "Spatial Intelligence System",
            subtitle: "Autonomous Design Lab",
            tag: "Workshop",
            date: "2025",
            markdown: "assets/experience/exp2/content.md"
          }
        ]
      },
      {
        year: "2024",
        items: [
          {
            id: "exp3",
            title: "Architectural Computation Workshop",
            subtitle: "Tsinghua University",
            tag: "AI",
            date: "2024",
            markdown: "assets/experience/exp3/content.md"
          }
        ]
      }
    ];

    // === æ¸²æŸ“é¡¹ç›®å¡ç‰‡ ===
    // helper: æŠŠæ ‡ç­¾è½¬æˆå®‰å…¨çš„ class å (e.g. "Digital Fabrication" -> "digital-fabrication")
    function slugifyTag(tag) {
      return String(tag || '')
        .trim()
        .toLowerCase()
        .replace(/\s+/g, '-')        // spaces -> -
        .replace(/[^\w\-]/g, '')     // remove non-word (keeps a-z0-9_ -)
        .replace(/\-+/g, '-');       // collapse multiple -
    }

    // é€šç”¨æ¸²æŸ“å‡½æ•°ï¼šæ¥æ”¶å®¹å™¨å…ƒç´  id å’Œæ•°æ®æ•°ç»„
    function renderCards(containerId, dataArray) {
      const container = document.getElementById(containerId);
      if (!container) return;
      container.innerHTML = ''; // æ¸…ç©ºæ—§å†…å®¹

      dataArray.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card';

        const tagClass = `tag-${slugifyTag(item.tag || '')}`;

        // æ„å»º overlay å†…å®¹ï¼ˆæ‚¬åœæ—¶æ˜¾ç¤ºï¼‰
        const overlayContent = `
          <div class="card-tag ${tagClass}">${item.tag || ''}</div>
          <h3 class="card-title">${item.title || ''}</h3>
          ${item.meta ? `<p class="card-desc">${item.meta}</p>` : ''}
        `;

        // å›¾ç‰‡å®¹å™¨ï¼ˆå§‹ç»ˆæ˜¾ç¤ºï¼‰
        const imgHtml = item.image
          ? `<div class="card-image"><img src="${item.image}" alt="${(item.title || '').replace(/"/g, '&quot;')}"></div>`
          : '';

        // æ•´ä½“ç»“æ„ï¼šå›¾ç‰‡ + æ‚¬åœ overlay
        card.innerHTML = `
          ${imgHtml}
          <div class="card-overlay">
            ${overlayContent}
          </div>
        `;

        card.addEventListener('click', () => openModal(item));
        container.appendChild(card);
      });
    }

    renderCards('AIGrid', AIData);
    renderCards('CodeGrid', CodeData);
    renderCards('DesignGrid', DesignData);

    // === æ¸²æŸ“ Experience å¡ç‰‡ ===
    const ExperienceGrid = document.getElementById('ExperienceGrid');
    ExperienceData.forEach(yearData => {
      const yearDiv = document.createElement('div');

      // å¹´ä»½æ ‡é¢˜
      const yearTitle = document.createElement('div');
      yearTitle.className = "text-2xl font-bold text-klein-blue dark:text-blue-400 mb-4 select-none";
      yearTitle.textContent = yearData.year;
      yearDiv.appendChild(yearTitle);

      // å¡ç‰‡åˆ—è¡¨
      const itemsDiv = document.createElement('div');
      itemsDiv.className = "space-y-6";

      yearData.items.forEach(item => {
        const card = document.createElement('div');
        card.className = 'card experience-card';

        const tagClass = `tag-${item.tag.toLowerCase()}`;

        card.innerHTML = `
          <div class="card-content flex items-center justify-between">
            <div>
              <div class="card-tag ${tagClass}">${item.tag}</div>
              <h3 class="font-bold text-slate-900 dark:text-white">${item.title}</h3>
              <p class="text-slate-600 dark:text-slate-400 text-sm">${item.subtitle}</p>
            </div>
            <div class="text-sm text-slate-500 dark:text-slate-400 ml-4 shrink-0">${item.date}</div>
          </div>
        `;

        card.addEventListener('click', (e) => {
          e.preventDefault();
          openModal(item);
        });

        itemsDiv.appendChild(card);
      });

      yearDiv.appendChild(itemsDiv);
      ExperienceGrid.appendChild(yearDiv);
    });

    /* ========== é€šç”¨ View All æ§åˆ¶å‡½æ•° ========== */
    function initViewAllToggle(sectionId, buttonId, innerId) {
      const section = document.getElementById(sectionId);
      const btn = document.getElementById(buttonId);
      const inner = document.getElementById(innerId);
      if (!section || !btn || !inner) return;

      let pageScrollY = 0;
      let innerScrollTop = 0;
      let isExpanded = false;

      btn.addEventListener('click', (e) => {
        e.preventDefault();

        if (!isExpanded) {
          // å±•å¼€å‰ï¼šä¿å­˜æ»šåŠ¨çŠ¶æ€
          pageScrollY = window.scrollY || window.pageYOffset;
          innerScrollTop = inner.scrollTop || 0;

          // é”å®š body æ»šåŠ¨
          document.body.style.overflow = 'hidden';

          // å±•å¼€å½“å‰ section
          section.classList.add('expanded');
          inner.scrollTop = 0;

          btn.textContent = 'Close â†';
          isExpanded = true;
        } else {
          // æ”¶èµ·
          section.classList.remove('expanded');

          // æ¢å¤ body æ»šåŠ¨
          document.body.style.overflow = '';
          setTimeout(() => {
            window.scrollTo({ top: pageScrollY, behavior: 'instant' });
          }, 0);
          inner.scrollTop = innerScrollTop || 0;

          btn.textContent = 'View All â†’';
          isExpanded = false;
        }
      });

      // Esc é”®é€€å‡º
      window.addEventListener('keydown', (e) => {
        if (isExpanded && e.key === 'Escape') {
          btn.click();
        }
      });
    }

    /* ========== åˆå§‹åŒ–å¤šä¸ª Section ========== */
    document.addEventListener('DOMContentLoaded', () => {
      initViewAllToggle('ai-section', 'viewAllAIBtn', 'AIGrid');
      initViewAllToggle('code-section', 'viewAllCodeBtn', 'CodeGrid');
      initViewAllToggle('design-section', 'viewAllDesignBtn', 'DesignGrid');
      initViewAllToggle('experience-section', 'viewAllExperienceBtn', 'ExperienceGrid');
    });

    // === å…ƒç´ å¼•ç”¨ ===
    const modalOverlay = document.getElementById('modalOverlay');
    const closeModalBtn = document.getElementById('closeModal');

    // ç®€æ˜“æ¨¡å¼
    const modalSimpleView = document.getElementById('modalSimpleView');
    const modalTitle = document.getElementById('modalTitle');
    const modalTag = document.getElementById('modalTag');
    const modalMeta = document.getElementById('modalMeta');
    const modalDescriptionEl = modalSimpleView.querySelector('.modal-description');
    const modalImageContainer = modalSimpleView.querySelector('.modal-image-container');
    const readMoreBtn = document.getElementById('readMoreBtn');
    const readLessBtnSimple = document.getElementById('readLessBtnSimple'); // ç®€æ˜“æ¨¡å¼ä¸­çš„ Read Less

    // ReadMore æ¨¡å¼
    const modalReadMoreView = document.getElementById('modalReadMoreView');
    const modalHeroImage = document.getElementById('modalHeroImage');
    const modalHeroContent = modalReadMoreView.querySelector('.modal-hero-content');
    const heroDescription = modalReadMoreView.querySelector('#heroDescription'); // Hero ä¸­çš„æè¿°
    const modalMarkdownBody = modalReadMoreView.querySelector('.modal-markdown-body');

    // Hero å†…éƒ¨çš„ Read Less æŒ‰é’®
    const readLessBtnHero = document.getElementById('readLessBtnHero');
    const readLessBtnNav = document.getElementById('readLessBtnNav');

    // Sticky Navï¼ˆä»…ç”¨äºæ˜¾ç¤ºæ ‡é¢˜/æ ‡ç­¾/å…ƒä¿¡æ¯ï¼‰
    const modalScrollNav = document.querySelector('.modal-scroll-nav');
    // const modalTitle3 = document.getElementById('modalTitle3');
    // const modalTag3 = document.getElementById('modalTag3');
    // const modalMeta3 = document.getElementById('modalMeta3');

    let currentData = null;

    /** å·¥å…·å‡½æ•° */
    function slugifyTag(tag) {
      return String(tag).trim().toLowerCase().replace(/\s+/g, '-').replace(/[^a-z0-9-_]/g, '');
    }

    function renderTags(tag, container) {
      if (!container) return;
      if (Array.isArray(tag) && tag.length > 0) {
        container.innerHTML = tag.map(t => {
          const cls = 'tag-' + slugifyTag(t);
          return `<span class="card-tag ${cls}">${t}</span>`;
        }).join('');
      } else if (typeof tag === 'string' && tag.trim()) {
        const cls = 'tag-' + slugifyTag(tag);
        container.innerHTML = `<span class="card-tag ${cls}">${tag}</span>`;
      } else {
        container.innerHTML = '';
      }
    }

    // function handleScrollNav(e) {
    //   const scrollTop = e.target.scrollTop;
    //   const heroEl = modalReadMoreView.querySelector('.modal-hero');
    //   const heroHeight = heroEl ? heroEl.offsetHeight : 400;
    //   modalScrollNav.classList.toggle('shown', scrollTop > heroHeight * 0.6);
    // }

    function switchToSimpleView() {
      modalReadMoreView.classList.add('hidden');
      modalSimpleView.classList.remove('hidden');
      modalScrollNav.classList.remove('shown');
      modalReadMoreView.scrollTop = 0;

      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      readMoreBtn.classList.remove('hidden');
      readLessBtnSimple.classList.add('hidden');
      // å…³é—­æŒ‰é’®ä½ç½®
      closeModalBtn.style.right = '0.2rem';
      closeModalBtn.style.top = '0.2rem';
    }

    function switchToReadMoreView() {
      modalSimpleView.classList.add('hidden');
      modalReadMoreView.classList.remove('hidden');
      // æ›´æ–°æŒ‰é’®çŠ¶æ€
      readMoreBtn.classList.add('hidden');
      readLessBtnSimple.classList.remove('hidden');
      // å…³é—­æŒ‰é’®ä½ç½®
      closeModalBtn.style.right = '1rem';
      closeModalBtn.style.top = '0.5rem';
    }

    // === ç›¸å†Œæ”¾å¤§åŠŸèƒ½ ===
    let lightboxOverlay = null;
    let lightboxImg = null;
    let isLightboxOpen = false;

    function initLightbox() {
      if (lightboxOverlay) return;
      lightboxOverlay = document.createElement('div');
      lightboxOverlay.id = 'lightboxOverlay';
      lightboxOverlay.innerHTML = `
        <div class="lightbox-content">
          <img id="lightboxImage" src="" alt="Preview">
          <button id="closeLightbox" class="lightbox-close">&times;</button>
        </div>
      `;
      document.body.appendChild(lightboxOverlay);

      lightboxImg = document.getElementById('lightboxImage');
      document.getElementById('closeLightbox').addEventListener('click', () => {
        lightboxOverlay.style.display = 'none';
        isLightboxOpen = false;
      });
      lightboxOverlay.addEventListener('click', (e) => {
        if (e.target === lightboxOverlay) lightboxOverlay.style.display = 'none';
      });
    }

    function showLightbox(src) {
      initLightbox();
      lightboxImg.src = src;
      lightboxOverlay.style.display = 'flex';
      isLightboxOpen = true;
    }

    // === æ ¸å¿ƒï¼šæ‰“å¼€ Modal ===
    async function openModal(data) {
      currentData = data;
      document.body.style.overflow = 'hidden';

      // === 1. æ¸²æŸ“åŸºç¡€ä¿¡æ¯ ===
      // modalTitle.textContent = modalTitle2.textContent = modalTitle3.textContent = data.title || '';
      // modalMeta.textContent = modalMeta2.textContent = modalMeta3.textContent = data.meta || '';
      modalTitle.textContent = modalTitle2.textContent = data.title || '';
      modalMeta.textContent = modalMeta2.textContent = data.meta || '';
      renderTags(data.tag, modalTag);
      renderTags(data.tag, modalTag2);
      // renderTags(data.tag, modalTag3);

      // ç®€æ˜“æ¨¡å¼æè¿°
      modalDescriptionEl.innerHTML = data.description
        ? `<div class="modal-description">${data.description}</div>`
        : '<p class="text-slate-500">æš‚æ— æè¿°ã€‚</p>';

      // Hero æè¿°ï¼ˆå®Œæ•´å†…å®¹ï¼‰
      heroDescription.innerHTML = data.description
        ? `<div class="text-white">${data.description}</div>`
        : '<p class="text-white/80">æš‚æ— æè¿°ã€‚</p>';

      // === 2. æå–å›¾ç‰‡åˆ—è¡¨ ===
      let coverImage = data.image || null;
      let galleryImages = coverImage ? [coverImage] : [];

      let mdText = '';
      if (data.markdown) {
        try {
          const res = await fetch(data.markdown);
          if (!res.ok) throw new Error('Markdown not found');
          mdText = await res.text();

          const basePath = data.markdown.substring(0, data.markdown.lastIndexOf('/') + 1);
          const regex = /!\[.*?\]\((?!https?:\/\/)([^)\s]+)\)/g;
          let match;
          while ((match = regex.exec(mdText)) !== null) {
            const relPath = match[1].startsWith('./') ? match[1].slice(2) : match[1];
            const fullUrl = basePath + relPath;
            if (!galleryImages.includes(fullUrl)) {
              galleryImages.push(fullUrl);
            }
          }
        } catch (err) {
          console.error('åŠ è½½ Markdown å¤±è´¥:', err);
        }
      }

      // === 3. æ¸²æŸ“ç›¸å†Œ ===
      if (galleryImages.length > 0) {
        modalImageContainer.innerHTML = '<div class="image-gallery"></div>';
        const galleryEl = modalImageContainer.querySelector('.image-gallery');
        modalImageContainer.style.display = 'block';

        galleryImages.forEach((src, i) => {
          const img = document.createElement('img');
          img.src = src;
          img.alt = `Gallery ${i + 1}`;
          img.loading = 'lazy';
          img.dataset.index = i;

          img.onload = () => {};
          img.onerror = () => {
            console.warn('å›¾ç‰‡åŠ è½½å¤±è´¥ï¼Œå·²è·³è¿‡:', src);
            if (img.parentNode) img.parentNode.removeChild(img);
          };

          img.addEventListener('click', () => showLightbox(src));
          galleryEl.appendChild(img);
        });
      } else {
        modalImageContainer.style.display = 'none';
      }

      // === 4. è®¾ç½® Hero å›¾ ===
      if (galleryImages.length > 0) {
        modalHeroImage.src = galleryImages[0];
        modalHeroImage.alt = data.title || '';
      }

      // === 5. æ¸²æŸ“ Markdown ===
      let mdHTML = '';
      if (mdText && data.markdown) {
        const basePath = data.markdown.substring(0, data.markdown.lastIndexOf('/') + 1);
        const fixedMdText = mdText.replace(/!\[(.*?)\]\((?!https?:\/\/)(.*?)\)/g, (match, alt, src) => {
          const cleanSrc = src.startsWith('./') ? src.slice(2) : src;
          return `![${alt}](${basePath}${cleanSrc})`;
        });
        mdHTML = marked.parse(fixedMdText);
      } else if (data.markdown) {
        mdHTML = '<p class="text-red-500">å†…å®¹åŠ è½½å¤±è´¥ã€‚</p>';
      }
      modalMarkdownBody.innerHTML = mdHTML;

      // === 6. åˆå§‹åŒ–çŠ¶æ€ ===
      switchToSimpleView(); // é»˜è®¤æ˜¾ç¤ºç®€æ˜“æ¨¡å¼
      // modalReadMoreView.removeEventListener('scroll', handleScrollNav);
      // modalReadMoreView.addEventListener('scroll', handleScrollNav);

      // ç»‘å®šæŒ‰é’®äº‹ä»¶
      readMoreBtn?.addEventListener('click', switchToReadMoreView);
      readLessBtnSimple?.addEventListener('click', switchToSimpleView);
      readLessBtnHero?.addEventListener('click', switchToSimpleView);
      readLessBtnNav?.addEventListener('click', switchToSimpleView);

      modalOverlay.classList.add('show');
    }

    // === å…³é—­é€»è¾‘ ===
    closeModalBtn?.addEventListener('click', () => {
      modalOverlay.classList.remove('show');
      document.body.style.overflow = '';
      // modalReadMoreView.removeEventListener('scroll', handleScrollNav);
    });

    modalOverlay?.addEventListener('click', (e) => {
      if (e.target === modalOverlay) closeModalBtn?.click();
    });

    // === ESC å…³é—­ ===
    document.addEventListener('keydown', (e) => {
      if (e.key === 'Escape') {
        if (isLightboxOpen) {
          // ä¼˜å…ˆå…³é—­ Lightbox
          document.getElementById('closeLightbox').click();
        } else if (modalOverlay.classList.contains('show')) {
          // å¦åˆ™å…³é—­ Modal
          closeModalBtn?.click();
        }
      }
    });

    // === æ¨¡å¼åˆ‡æ¢ ===
    const modeToggle = document.getElementById('modeToggle');
    const modeIcon = document.getElementById('modeIcon');
    const body = document.body;

    const savedMode = localStorage.getItem('color-mode');
    // ç”¨æˆ·ä¹‹å‰é€‰æ‹©è¿‡æš—è‰²æ¨¡å¼æˆ–è€…æ²¡é€‰æ‹©ä½†ç³»ç»Ÿåå¥½æ˜¯æš—è‰²
    if (savedMode === 'dark' || (!savedMode && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
      // åˆ‡æ¢æ¨¡å¼
      body.classList.replace('light', 'dark');
      modeIcon.className = 'fas fa-sun';
    }

    modeToggle.addEventListener('click', () => {
      if (body.classList.contains('light')) {
        body.classList.replace('light', 'dark');
        modeIcon.className = 'fas fa-sun';
        localStorage.setItem('color-mode', 'dark');
      } else {
        body.classList.replace('dark', 'light');
        modeIcon.className = 'fas fa-moon';
        localStorage.setItem('color-mode', 'light');
      }
    });

    // === æ ‡ç­¾æ»šåŠ¨é«˜äº® ===
    const navLinks = document.querySelectorAll('.nav-link');
    window.addEventListener('scroll', () => {
      const sections = ['home', 'ai-section', 'code-section', 'design-section', 'experience-section', 'about'];
      const scrollPos = window.scrollY + 100;

      for (const id of sections) {
        const el = document.getElementById(id);
        if (el) {
          const { offsetTop, offsetHeight } = el;
          if (scrollPos >= offsetTop && scrollPos < offsetTop + offsetHeight) {
            navLinks.forEach(link => link.classList.remove('active'));
            document.querySelector(`a[href="#${id}"]`)?.classList.add('active');
            break;
          }
        }
      }
    });

    // Hero BG change
    document.addEventListener('DOMContentLoaded', function () {
      const backgrounds = [
        'assets/images/background/01.mp4',
        'assets/images/background/02.png',
        'assets/images/background/03.jpg',
        'assets/images/background/04.jpg',
        'assets/images/background/05.jpg',
      ];

      const heroBg = document.querySelector('.hero-bg');
      const heroVideo = document.querySelector('.hero-video');
      const videoSource = heroVideo?.querySelector('source');
      const indicators = document.querySelectorAll('.hero-slider-indicators .indicator');

      if (!heroBg || !heroVideo || indicators.length === 0) {
        console.warn('Hero elements missing');
        return;
      }

      let currentIndex = -1; // åˆå§‹ä¸º -1ï¼Œè¡¨ç¤ºå°šæœªåˆå§‹åŒ–
      let autoSlideTimeout = null;

      // é¢„åŠ è½½èµ„æº
      backgrounds.forEach(src => {
        if (src.endsWith('.mp4')) {
          const v = document.createElement('video');
          v.muted = true;
          v.preload = 'metadata';
          v.src = src;
        } else {
          const img = new Image();
          img.src = src;
        }
      });

      // åˆ‡æ¢åˆ°æŒ‡å®šç´¢å¼•
      function goToSlide(index, isManual = false) {
        if (index < 0 || index >= backgrounds.length || index === currentIndex) return;

        const prevIsVideo = currentIndex >= 0 && backgrounds[currentIndex].endsWith('.mp4');
        const isVideo = backgrounds[index].endsWith('.mp4');

        // éšè—ä¸Šä¸€ä¸ª
        if (prevIsVideo) {
          heroVideo.style.display = 'none';
        } else {
          heroBg.classList.remove('active');
        }

        // æ˜¾ç¤ºå½“å‰
        if (isVideo) {
          videoSource.src = backgrounds[index];
          heroVideo.load();
          heroVideo.style.display = 'block';
          // å°è¯•æ’­æ”¾ï¼ˆé™éŸ³è§†é¢‘é€šå¸¸å¯ autoplayï¼‰
          heroVideo.play().catch(e => console.warn('Play failed:', e));
        } else {
          heroBg.style.backgroundImage = `url('${backgrounds[index]}')`;
          // å…³é”®ï¼šå…ˆç¡®ä¿æ²¡æœ‰ activeï¼Œå†å¼ºåˆ¶é‡æ’ï¼Œå†åŠ  active
          heroBg.classList.remove('active');
          void heroBg.offsetWidth; // è§¦å‘é‡æ’
          heroBg.classList.add('active');
        }

        // æ›´æ–°çŠ¶æ€
        currentIndex = index;

        // æ›´æ–°æŒ‡ç¤ºå™¨
        indicators.forEach((ind, i) => {
          ind.classList.toggle('active', i === index);
        });

        // é‡ç½®è‡ªåŠ¨è½®æ’­
        if (isManual) {
          resetAutoSlide();
        } else {
          scheduleNextSlide();
        }
      }

      function scheduleNextSlide() {
        clearTimeout(autoSlideTimeout);
        autoSlideTimeout = setTimeout(() => {
          goToSlide((currentIndex + 1) % backgrounds.length);
        }, 3000);
      }

      function resetAutoSlide() {
        clearTimeout(autoSlideTimeout);
        scheduleNextSlide();
      }

      // ç»‘å®šç‚¹å‡»
      indicators.forEach((ind, i) => {
        ind.addEventListener('click', () => goToSlide(i, true));
      });

      goToSlide(0); // ä» 0 å¼€å§‹ï¼Œä¼šæ­£ç¡®æ’­æ”¾è§†é¢‘ + è§¦å‘ transition
    });
  </script>
  <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</body>
</html>